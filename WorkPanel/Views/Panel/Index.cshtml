@using WorkPanel.Models.PanelViewModels
@model PanelViewModel
@{
    ViewData["Title"] = "Panel Page";    
}

<div class="index_body">
    <div style="padding: 30px; background: whitesmoke;">
        <div class="row">
            <div class="col-md-3">
                <div>
                    <h1>$<span style="font-weight: bold">@Model.TotalInvested.ToString("N0")</span></h1>
                </div>
                <div>
                    <h3>Total Invested</h3>
                </div>
            </div>
            <div class="col-md-3">
                <div>
                    <h1>1 000 000</h1>
                </div>
                <div>
                    <h3>Total Shares</h3>
                </div>
            </div>
            <div class="col-md-3">
                <div>
                    <h1>$5 000 000</h1>
                </div>
                <div>
                    <h3>Profit</h3>
                </div>
            </div>
            <div class="col-md-3">
                <div>
                    <h1>$500</h1>
                </div>
                <div>
                    <h3>Current Share Value</h3>
                </div>
            </div>
        </div>
    </div>
    <br/>
    <div>
        @if (Model.Investors.Any())
        {
            <table class="table hoverTable">
                <thead>
                <tr>
                    <th></th>
                    <th>Name</th>
                    <th>Date</th>
                    <th>Amount Invested</th>
                    <th>Shares Received</th>
                    <th>Price per share</th>
                    <th style="text-align: end;">Return of Investment</th>
                </tr>
                </thead>
                <tbody>
                @foreach (var item in Model.Investors)
                {
                    <tr class="hovertr" data-toggle="modal" data-target="#modalCreate">
                        <td>
                            @if (item.Status == Status.Active)
                            {
                                <span class="dot-active"></span>
                            }
                            else
                            {
                                <span class="dot-inactive"></span>
                            }
                        </td>
                        <td>
                            <a id="createEditCustomerModal" data-toggle="modal" asp-action="Info" asp-route-id= "@item.Id" data-target="#modal-action-info">
                               @item.Name
                            </a>
                            
                        </td>
                        <td>@item.Date.ToShortDateString()</td>
                        <td>$@item.AmountInvested.ToString("N0")</td>
                        <td>@item.SharesReceived</td>
                        <td>$@(item.AmountInvested / item.SharesReceived)</td>
                        <td style="text-align: end;">50%</td>
                    </tr>
                }
                </tbody>
            </table>
        }
    </div>
</div>

<div id="add-modal" class="modal fade" role="dialog">
    <div class="modal-dialog">    
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                @await Html.PartialAsync("AddInvestor")
            </div>
        </div>
    </div>
</div>

<div id="modal-action-info" class="modal fade" role="dialog">
    <div class="modal-dialog" style="width: 400px;">    
        <div class="modal-content">          
        </div>
    </div>
</div>